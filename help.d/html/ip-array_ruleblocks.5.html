<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>ip-array_ruleblocks</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.74.3-pre"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" lang="en"><a name="d0e2"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>ip-array ruleblocks &#8212; Configure ip-array ruleblocks</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><pre class="synopsis">/etc/ip-array/{stable|test}/conf.d/ruleblocks.d/<em class="replaceable"><code>file</code></em></pre></div><div class="refsect1" lang="en"><a name="d0e44"></a><h2>Description</h2><p>A ruleblock is a group (stack) of rules, containing only the values of each option, to
            be read in order of occurence. The structure of the ruleblock is defined in a template.
            Each rule entry in a ruleblock is interpreted column-wise. How the values in each column
            are interpreted, is defined in the template called with the ruleblock.</p></div><div class="refsect1" lang="en"><a name="d0e49"></a><h2>Syntax</h2><p>A ruleblock definition file must contain the following:</p><p>
            </p><div class="orderedlist"><ol type="1"><li><p>First a root tag including the describing name attribule and the syntax
                        version:</p><p><code class="code">&lt;ip_array_root name="ruleblocks"
                        syntax_version="1.0"&gt;</code></p><p>The <span class="bold"><strong>name</strong></span> attribute tells us it is a
                        ruleblocks definition.</p><p>The <span class="bold"><strong>syntax_version</strong></span> attribute defines the
                        syntax version (only 1.0 is available by now).</p></li><li><p>The actual ruleblock tag including the name attribute defining the name of
                        the ruleblock:</p><p>&lt;ruleblock name="RULEBLOCK_EXAMPLE"&gt;</p><p>The ruleblock name must begin with one of the following prefixes: RB_,
                        RULEBLOCK_.</p></li></ol></div><p>
        </p></div><div class="refsect1" lang="en"><a name="d0e81"></a><h2>Usage guidelines</h2><p>It's a good idea to write down the structure of the template you want to call the
            ruleblock with as a comment below the ruleblock opening tag. This way you will easily
            remember what each column has to contain.</p><p>Newline separates rules inside a ruleblock.</p><p>You can use your shell variables inside ruleblock rules.</p><p>XML style comments (&lt;!-- comment --&gt;) are valid inside ruleblocks.</p><p>If you want to leave a value in a column undefined use the character defined with
                <code class="varname">RULE_PLACEHOLDER</code> (default = `_') as a placeholder.</p><p>To use spaces inside a column value, use either escaped double quotes (\"value with
            space\") or single quotes ('value with space').</p><p>If the structure of a ruleblock does not fit your needs, it is possible to use the
                <span class="underline">inline functions</span> inside it to add a rule with
            a different structure. </p></div><div class="refsect1" lang="en"><a name="d0e104"></a><h2>Inline functions</h2><p>Inline functions are used inside ruleblocks. Sometimes the structure of a ruleblock
            does not fit the current need. Using inline functions is a way around this, or allow to
            modify the behaviour of the rule processing.</p><p>The following functions are available inline: add_rule, insert_ipt_rule and
            create_chain.</p><p> For a description on how to use them run: <span class="command"><strong>ip-array show -sc
                public_functions[:name[,...]]</strong></span>.</p></div><div class="refsect1" lang="en"><a name="d0e116"></a><h2>See also</h2><p>
            <span class="citerefentry"><span class="refentrytitle">ip-array</span>(8)</span>, <span class="citerefentry"><span class="refentrytitle">ip-array.conf</span>(8)</span>, <span class="citerefentry"><span class="refentrytitle">ip-array_defaults.conf</span>(8)</span>, <span class="citerefentry"><span class="refentrytitle">ip-array_rulefiles</span>(5)</span>, <span class="citerefentry"><span class="refentrytitle">ip-array_templates</span>(5)</span>
        </p></div></div></body></html>